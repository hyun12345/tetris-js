{"ast":null,"code":"var global = require('../internals/global');\n\nvar isCallable = require('../internals/is-callable');\n\nvar fails = require('../internals/fails');\n\nvar bind = require('../internals/function-bind-context');\n\nvar html = require('../internals/html');\n\nvar createElement = require('../internals/document-create-element');\n\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global.location;\n} catch (error) {\n  /* empty */\n}\n\nvar run = function run(id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function runner(id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function listener(event) {\n  run(event.data);\n};\n\nvar post = function post(id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), location.protocol + '//' + location.host);\n}; // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\n\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var argumentsLength = arguments.length;\n    var i = 1;\n\n    while (argumentsLength > i) {\n      args.push(arguments[i++]);\n    }\n\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (isCallable(fn) ? fn : Function(fn)).apply(undefined, args);\n    };\n\n    defer(counter);\n    return counter;\n  };\n\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  }; // Node.js 0.8-\n\n\n  if (IS_NODE) {\n    defer = function defer(id) {\n      process.nextTick(runner(id));\n    }; // Sphere (JS game engine) Dispatch API\n\n  } else if (Dispatch && Dispatch.now) {\n    defer = function defer(id) {\n      Dispatch.now(runner(id));\n    }; // Browsers with MessageChannel, includes WebWorkers\n    // except iOS - https://github.com/zloirock/core-js/issues/624\n\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1); // Browsers with postMessage, skip WebWorkers\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && isCallable(global.postMessage) && !global.importScripts && location && location.protocol !== 'file:' && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false); // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function defer(id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    }; // Rest old browsers\n\n  } else {\n    defer = function defer(id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};","map":{"version":3,"sources":["C:/jah-workspace/tetris-js/node_modules/core-js/internals/task.js"],"names":["global","require","isCallable","fails","bind","html","createElement","IS_IOS","IS_NODE","set","setImmediate","clear","clearImmediate","process","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","location","defer","channel","port","error","run","id","hasOwnProperty","fn","runner","listener","event","data","post","postMessage","String","protocol","host","args","argumentsLength","arguments","length","i","push","Function","apply","undefined","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","module","exports"],"mappings":"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","sourcesContent":["var global = require('../internals/global');\r\nvar isCallable = require('../internals/is-callable');\r\nvar fails = require('../internals/fails');\r\nvar bind = require('../internals/function-bind-context');\r\nvar html = require('../internals/html');\r\nvar createElement = require('../internals/document-create-element');\r\nvar IS_IOS = require('../internals/engine-is-ios');\r\nvar IS_NODE = require('../internals/engine-is-node');\r\n\r\nvar set = global.setImmediate;\r\nvar clear = global.clearImmediate;\r\nvar process = global.process;\r\nvar MessageChannel = global.MessageChannel;\r\nvar Dispatch = global.Dispatch;\r\nvar counter = 0;\r\nvar queue = {};\r\nvar ONREADYSTATECHANGE = 'onreadystatechange';\r\nvar location, defer, channel, port;\r\n\r\ntry {\r\n  // Deno throws a ReferenceError on `location` access without `--location` flag\r\n  location = global.location;\r\n} catch (error) { /* empty */ }\r\n\r\nvar run = function (id) {\r\n  // eslint-disable-next-line no-prototype-builtins -- safe\r\n  if (queue.hasOwnProperty(id)) {\r\n    var fn = queue[id];\r\n    delete queue[id];\r\n    fn();\r\n  }\r\n};\r\n\r\nvar runner = function (id) {\r\n  return function () {\r\n    run(id);\r\n  };\r\n};\r\n\r\nvar listener = function (event) {\r\n  run(event.data);\r\n};\r\n\r\nvar post = function (id) {\r\n  // old engines have not location.origin\r\n  global.postMessage(String(id), location.protocol + '//' + location.host);\r\n};\r\n\r\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\r\nif (!set || !clear) {\r\n  set = function setImmediate(fn) {\r\n    var args = [];\r\n    var argumentsLength = arguments.length;\r\n    var i = 1;\r\n    while (argumentsLength > i) args.push(arguments[i++]);\r\n    queue[++counter] = function () {\r\n      // eslint-disable-next-line no-new-func -- spec requirement\r\n      (isCallable(fn) ? fn : Function(fn)).apply(undefined, args);\r\n    };\r\n    defer(counter);\r\n    return counter;\r\n  };\r\n  clear = function clearImmediate(id) {\r\n    delete queue[id];\r\n  };\r\n  // Node.js 0.8-\r\n  if (IS_NODE) {\r\n    defer = function (id) {\r\n      process.nextTick(runner(id));\r\n    };\r\n  // Sphere (JS game engine) Dispatch API\r\n  } else if (Dispatch && Dispatch.now) {\r\n    defer = function (id) {\r\n      Dispatch.now(runner(id));\r\n    };\r\n  // Browsers with MessageChannel, includes WebWorkers\r\n  // except iOS - https://github.com/zloirock/core-js/issues/624\r\n  } else if (MessageChannel && !IS_IOS) {\r\n    channel = new MessageChannel();\r\n    port = channel.port2;\r\n    channel.port1.onmessage = listener;\r\n    defer = bind(port.postMessage, port, 1);\r\n  // Browsers with postMessage, skip WebWorkers\r\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\r\n  } else if (\r\n    global.addEventListener &&\r\n    isCallable(global.postMessage) &&\r\n    !global.importScripts &&\r\n    location && location.protocol !== 'file:' &&\r\n    !fails(post)\r\n  ) {\r\n    defer = post;\r\n    global.addEventListener('message', listener, false);\r\n  // IE8-\r\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\r\n    defer = function (id) {\r\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\r\n        html.removeChild(this);\r\n        run(id);\r\n      };\r\n    };\r\n  // Rest old browsers\r\n  } else {\r\n    defer = function (id) {\r\n      setTimeout(runner(id), 0);\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  set: set,\r\n  clear: clear\r\n};\r\n"]},"metadata":{},"sourceType":"script"}